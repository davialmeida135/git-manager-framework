<!DOCTYPE html>
<html lang="en" class="h-100" data-bs-theme="auto">

<head th:replace="~{fragments/general.html :: head}"></head>

<body class="d-flex h-100 text-center text-bg-dark">
    <div th:replace="~{fragments/svg-fragments :: svg}"></div>

    <div class="cover-container d-flex p-3 mx-auto flex-column">
        <div th:replace="~{fragments/general.html :: header_fragments(${objeto_da_lista}, ${user})}"></div>

        <main class="px-3 mx-auto">
            <div id="repositoriesList" class="justify-content-center mx-auto">
                <h1 class="mt-3 mb-2">Lista de <span
                        th:text="${objeto_da_lista == 'Projects' ? 'Projetos' : 'Repositórios'}"></span></h1>

                <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 mx-auto">
                    <div class="col mb-3 d-flex align-items-stretch g-3" th:each="repository : ${repositories}">
                        <div class="card" style="width: 18rem;">
                            <div class="image">
                                <img style="object-fit: cover; object-position: bottom;" width="100%" height="180"
                                    src="..." class="card-img-top" alt="...">
                            </div>

                            <div class="card-body d-flex align-content-between flex-wrap align-items-center">
                                <h5 style="min-height:max-content; min-width: 100%;"
                                    class="card-title d-block text-truncate pb-1" th:text="${repository.name}"></h5>
                                <p style="min-width: 100%; min-height: 1.25rem;"
                                    class="card-text d-block text-muted pb-1"
                                    th:text="${repository.description} ? ${repository.description} : '(Sem descrição)'">
                                </p>
                                <a th:href="@{'/user/' + ${user} + '/repositories/' + ${repository.name}}"
                                    class="btn btn-primary stretched-link d-block mx-auto">Quero acessar!</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="mt-auto text-white-50">
            <p>Cover template for <a href="https://getbootstrap.com/" class="text-white">Bootstrap</a>, by <a
                    href="https://twitter.com/mdo" class="text-white">@mdo</a>.</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Array de links das imagens
            const imageLinks = [
                "https://images.unsplash.com/photo-1572177812156-58036aae439c?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cHJvamVjdHN8ZW58MHx8MHx8fDA%3D",
                "https://images.unsplash.com/photo-1531403009284-440f080d1e12?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvamVjdHN8ZW58MHx8MHx8fDA%3D",
                "https://images.unsplash.com/photo-1620325867502-221cfb5faa5f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8cHJvamVjdHN8ZW58MHx8MHx8fDA%3D",
                "https://images.unsplash.com/photo-1527219525722-f9767a7f2884?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8cHJvamVjdHN8ZW58MHx8MHx8fDA%3D",
                "https://images.unsplash.com/photo-1600132806608-231446b2e7af?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHByb2plY3RzfGVufDB8fDB8fHww",
                "https://images.unsplash.com/photo-1614947746254-4fd8c6cb1a7f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fHByb2plY3RzfGVufDB8fDB8fHww",
                "https://images.unsplash.com/photo-1523289333742-be1143f6b766?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTl8fHByb2plY3RzfGVufDB8fDB8fHww",
                "https://images.unsplash.com/photo-1586281380117-5a60ae2050cc?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvamVjdHN8ZW58MHx8MHx8fDA%3D",
            ];

            const repositoryImages = document.querySelectorAll(".card-img-top");
            repositoryImages.forEach(image => {
                const randomIndex = Math.floor(Math.random() * imageLinks.length);
                image.src = imageLinks[randomIndex] || "link_de_imagem_padrao";
            });
        });
    </script>
</body>

</html>